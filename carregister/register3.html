<!DOCTYPE html>
<html lang="en-US">

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
            $("#submit").click(function(e) {
                e.preventDefault();
                var name = $("#name").val(),
                    phone = $("#email").val(),
                    carType = $("#subject").val(),
                    location = $("#message").val();
                $.ajax({
                    type: "POST",
                    url: 'https://v3s6u68t07.execute-api.ap-south-1.amazonaws.com/default/formAPI',
                    headers: {'x-api-key': 'hcGahR1OBd8OxmvUvzBEi7PZdeycHaSc2s7G9knO'},
                    contentType: 'application/json',
                    data: JSON.stringify({
                        'customer name': name,
                        'customer phone': phone,
                        'car type': carType,
                        'pickup location': location
                    }),
                    success: function(res) {
                        $('#form-response').text('Thank you. Your ride booked successfully.');
                    },
                    error: function() {
                        $('#form-response').text('Error.');
                    }
                });
            })
        });
    </script>
    <script>
        // define the callAPI function that takes a first name and last name as parameters
        var callAPI = (firstName,lastName)=>{
            // instantiate a headers object
            var myHeaders = new Headers();
            // add content type header to object
            myHeaders.append("Content-Type", "application/json");
            // using built in JSON utility package turn object to string and store in a variable
            var raw = JSON.stringify({"firstName":firstName,"lastName":lastName});
            // create a JSON object with parameters for API call and store in a variable
            var requestOptions = {
                method: 'POST',
                headers: myHeaders,
                body: raw,
                redirect: 'follow'
            };
            // make API call with parameters and use promises to get response
            fetch("https://50y2pkg1tl.execute-api.us-east-1.amazonaws.com/dev", requestOptions)
            .then(response => response.text())
            .then(result => alert(JSON.parse(result).body))
            .catch(error => console.log('error', error));
        }
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link type="text/css" media="all" href="css/style1.css" rel="stylesheet" />
    <title>Confirm Ride</title>
    <link rel='dns-prefetch' href='//fonts.googleapis.com' />
    <link rel='dns-prefetch' href='//s.w.org' />
    <link rel='stylesheet' id='joy-fonts-css' href='https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600,600i,700,700i%7CPoppins:400,400i,500,500i,600,600i,700,700i&#038;ver=1.0.0' type='text/css' media='all' />
    <link rel='stylesheet' id='elementor-post-8-css' href='css/style2.css' type='text/css' media='all' />
    <link rel='stylesheet' id='google-fonts-1-css' href='https://fonts.googleapis.com/css?family=Roboto%3A100%2C100italic%2C200%2C200italic%2C300%2C300italic%2C400%2C400italic%2C500%2C500italic%2C600%2C600italic%2C700%2C700italic%2C800%2C800italic%2C900%2C900italic%7CRoboto+Slab%3A100%2C100italic%2C200%2C200italic%2C300%2C300italic%2C400%2C400italic%2C500%2C500italic%2C600%2C600italic%2C700%2C700italic%2C800%2C800italic%2C900%2C900italic%7CPoppins%3A100%2C100italic%2C200%2C200italic%2C300%2C300italic%2C400%2C400italic%2C500%2C500italic%2C600%2C600italic%2C700%2C700italic%2C800%2C800italic%2C900%2C900italic%7COpen+Sans%3A100%2C100italic%2C200%2C200italic%2C300%2C300italic%2C400%2C400italic%2C500%2C500italic%2C600%2C600italic%2C700%2C700italic%2C800%2C800italic%2C900%2C900italic&#038;ver=5.1.3' type='text/css' media='all' />
    <script type='text/javascript' src='jquery/jqueryv1.12.4.js'></script>
    <link rel="icon" href="assets/curry3.png" sizes="32x32" />
    <link rel="icon" href="assets/curry3.png" sizes="192x192" />
    <link rel="apple-touch-icon-precomposed" href="assets/curry3.png" />
    <link rel="stylesheet" href="font-awesome-4.7.0/css/font-awesome.min.css">
    <link rel="icon" href="css/favicon.ico">
    <meta name="msapplication-TileImage" content="assets/curry3.png" />
</head>

<body style="background:aquamarine; background-size:cover;" class="home page-template page-template-page-onepage page-template-page-onepage-php page page-id-8 elementor-default elementor-page elementor-page-8">
    <center><h1>Confirm Your Booking</h1></center>
    <form contact-form" class="contact-form">
        <div class="row">
            
          <div class="column col-md-6">
            <h4>Enter name:</h4>
              <p>
              <div class="form-group"> <span class="wpcf7-form-control-wrap your-name"><input id="name" type="text" name="your-name" value="" size="40" class="wpcf7-form-control wpcf7-text wpcf7-validates-as-required form-control" aria-required="true" aria-invalid="false" placeholder="Your name" /></span></div>
              </p>
          </div>
          <div class="column col-md-6">
            <h4>Enter mobile number:</h4>
              <p>
              <div class="form-group"> <span class="wpcf7-form-control-wrap your-email"><input id="email" type="email" name="your-email" value="" size="40" class="wpcf7-form-control wpcf7-text wpcf7-email wpcf7-validates-as-required wpcf7-validates-as-email form-control" aria-required="true" aria-invalid="false" placeholder="mobile" /></span></div>
              </p>
          </div>
          <div class="column col-md-12">
            
          <p>
          <div class="form-group"> <span class="wpcf7-form-control-wrap your-name">
          <label for="cars"><h4>Choose a car:</h4></label>
                  <select id="subject" type="text" name="your-name" value="" class="wpcf7-form-control wpcf7-text wpcf7-validates-as-required form-control" aria-required="true" aria-invalid="false">
                  <option value="HYUNDAI-I20" >HYUNDAI-I20</option>
                  <option value="MASTERTON TAXIS">MASTERTON TAXIS</option>
                  <option value="MARUTI SWIFT" selected>MARUTI SWIFT</option>
                  <option value="HYUNDAI XCENT">HYUNDAI XCENT</option>
                  <option value="MARUTI WAGON">MARUTI WAGON</option>
                  <option value="MAHINDRA MARAZZO">MAHINDRA MARAZZO</option>
                  <option value="CHEVROLET TAVERA">CHEVROLET TAVERA</option>
    
                  </select>
              </span></div>
          </p>
    
          </div>
          <div class="column col-md-12">
            <h4>Enter pick up location:</h4>
            </p>
            <div class="form-group"> <span class="wpcf7-form-control-wrap your-message"><textarea  id="message" name="your-message" cols="40" rows="4" class="wpcf7-form-control wpcf7-textarea wpcf7-validates-as-required form-control" aria-required="true" aria-invalid="false" placeholder="Enter Pickup/delivery Point"></textarea></span></div>
            </p>
        </div>
        </p>
    </div>
    <center><p>
        <button id="submit" type="submit" name="submit" value="Submit" class="wpcf7-submit btn btn-default" onclick="callAPI(document.getElementById('name').value,document.getElementById('email').value)">Submit Message</button>
    </p></center>
</form>
    <div id="form-response"></div>
    <center><a class="wpcf7-submit btn btn-default" href="https://viswaamitcodes.github.io/authorization_deploy/">Back to home</a></center>
</body>

</html>
